{
    "lesson-id": "lesson-7-basic-joins",
    "title": "Lesson 7",
    "subtitle": "Basic Joins",
    "lesson-order": 7,
    "database-tables": [
        {
            "name": "Countries",
            "priority": 1
        },
        {
            "name": "Cities",
            "priority": 2
        }
    ],
    "exercise-tasks": [
        {
            "task-id": 7.1,
            "description": "List all cities with their corresponding country names",
            "correct-query": "SELECT\n  Cities.Name AS CityName,\n  Countries.Name AS CountryName\nFROM Cities\nINNER JOIN Countries ON Cities.CountryID = Countries.CountryID",
            "verify-query": "SELECT Cities.Name AS CityName, Countries.Name AS CountryName FROM Cities INNER JOIN Countries ON Cities.CountryID = Countries.CountryID",
            "order-sensitive": false,
            "exercise-order": 1,
            "initial-query": "SELECT * FROM Cities",
            "large-query": false,
            "allow-dml": false,
            "create-tables": false,
            "preview-allowed": true,
            "chatgpt-prompt": "Explain why 'SELECT Cities.Name AS CityName, Countries.Name AS CountryName FROM Cities INNER JOIN Countries ON Cities.CountryID = Countries.CountryID' correctly lists each city with its corresponding country. How does INNER JOIN work? What is the role of the ON clause, and why are column aliases used?"
        },
        {
            "task-id": 7.2,
            "description": "Show the city name and population along with the country name",
            "correct-query": "SELECT\n  Cities.Name AS CityName,\n  Cities.Population,\n  Countries.Name AS CountryName\nFROM Cities\nINNER JOIN Countries ON Cities.CountryID = Countries.CountryID",
            "verify-query": "SELECT Cities.Name AS CityName, Cities.Population, Countries.Name AS CountryName FROM Cities INNER JOIN Countries ON Cities.CountryID = Countries.CountryID",
            "order-sensitive": false,
            "exercise-order": 2,
            "initial-query": "SELECT * FROM Cities",
            "large-query": false,
            "allow-dml": false,
            "create-tables": false,
            "preview-allowed": true,
            "chatgpt-prompt": "Explain why this query returns city names, populations, and country names. How does the INNER JOIN combine data from Cities and Countries? Why is the ON clause necessary, and how do column aliases improve readability?"
        },
        {
            "task-id": 7.3,
            "description": "List cities with their countries where the city population is greater than 5 million",
            "correct-query": "SELECT\n  Cities.Name AS CityName,\n  Countries.Name AS CountryName,\n  Cities.Population\nFROM Cities\nINNER JOIN Countries ON Cities.CountryID = Countries.CountryID\nWHERE Cities.Population > 5000000",
            "verify-query": "SELECT Cities.Name AS CityName, Countries.Name AS CountryName, Cities.Population FROM Cities INNER JOIN Countries ON Cities.CountryID = Countries.CountryID WHERE Cities.Population > 5000000",
            "order-sensitive": false,
            "exercise-order": 3,
            "initial-query": "SELECT * FROM Cities",
            "large-query": false,
            "allow-dml": false,
            "create-tables": false,
            "preview-allowed": true,
            "chatgpt-prompt": "Explain why 'SELECT ... INNER JOIN ... WHERE Cities.Population > 5000000' correctly returns only cities with populations over 5 million along with their countries. How does the WHERE clause filter after the join? Why is INNER JOIN needed to include country names?"
        },
        {
            "task-id": 7.4,
            "description": "Count the number of cities in each country",
            "correct-query": "SELECT\n  Countries.Name AS CountryName,\n  COUNT(Cities.CityID) AS NumCities\nFROM Countries\nINNER JOIN Cities ON Countries.CountryID = Cities.CountryID\nGROUP BY Countries.Name",
            "verify-query": "SELECT Countries.Name AS CountryName, COUNT(Cities.CityID) AS NumCities FROM Countries INNER JOIN Cities ON Countries.CountryID = Cities.CountryID GROUP BY Countries.Name",
            "order-sensitive": false,
            "exercise-order": 4,
            "initial-query": "SELECT * FROM Cities",
            "large-query": false,
            "allow-dml": false,
            "create-tables": false,
            "preview-allowed": true,
            "chatgpt-prompt": "Explain why 'SELECT Countries.Name AS CountryName, COUNT(Cities.CityID) AS NumCities FROM Countries INNER JOIN Cities ON Countries.CountryID = Cities.CountryID GROUP BY Countries.Name' correctly counts cities per country. How does GROUP BY work with aggregation functions after a join? What is the role of COUNT(Cities.CityID)?"
        },
        {
            "task-id": 7.5,
            "description": "List cities with country names using table aliases for both tables",
            "correct-query": "SELECT\n  c.Name AS CityName,\n  co.Name AS CountryName\nFROM Cities c\nINNER JOIN Countries co ON c.CountryID = co.CountryID",
            "verify-query": "SELECT c.Name AS CityName, co.Name AS CountryName FROM Cities c INNER JOIN Countries co ON c.CountryID = co.CountryID",
            "order-sensitive": false,
            "exercise-order": 5,
            "initial-query": "SELECT * FROM Cities",
            "large-query": false,
            "allow-dml": false,
            "create-tables": false,
            "preview-allowed": true,
            "chatgpt-prompt": "Explain why using table aliases like 'c' for Cities and 'co' for Countries helps when joining tables. How does 'SELECT c.Name AS CityName, co.Name AS CountryName FROM Cities c INNER JOIN Countries co ON c.CountryID = co.CountryID' return city and country names? How does the ON clause link the two tables?"
        }
    ]
}
